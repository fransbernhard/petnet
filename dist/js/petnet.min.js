jQuery(document).ready(function(e){function t(){e.ajax({type:"GET",url:"/wp-content/themes/petnet/inc/json_getAnimals.php",dataType:"json",contentType:"application/json; charset=utf-8",success:function(t){var n=new SearchFilter(t);n.sendAttrsToObjectOnClick(),n.getAnimals(t);var i=new Animal(t);e(".animal-listing").html(i.init())},error:function(){console.log("Something went wrong")}})}t()}),jQuery(document).ready(function(e){e("body style").prependTo("head"),e("body").show(),e(".menu-toggle").on("click",function(){e(".main-navigation").toggleClass("mobile-open")}),e(".filter-icon").on("click",function(){e(".search-filter").toggleClass("mobile-open")}),e(".menu-item-has-children").on("hover",function(){e(this.children).show()}).mouseleave(function(){e("ul.sub-menu").hide()}),e(".filter-toggle").on("click",function(){e(".filter-main").toggleClass("mobile-open")}),e(".question").click(function(){e(this).next("p").slideToggle("500"),e(this).toggleClass("open")}),e(".filter.dropdown h3").click(function(){e(this).next(".dropdown ul").slideToggle("500"),e(this).toggleClass("open")}),e(document).on("mousemove",".range-slider",function(){!function(){var t=e(".range-slider"),n=e(".range-slider__range"),i=e(".range-slider__value");t.each(function(){i.each(function(){e(this).prev().attr("value");e("label").html(e("#price").val())}),n.on("input",function(){e(this).next(i).html(this.value)})})}()});var t=e("html, body");e(".scroll-to-top").click(function(){return t.animate({scrollTop:e(e.attr(this,"href")).offset().top},600),!1}),$value=e(".acf-form input"),$value.each(function(t){e(this).parent("label").attr("for",e(this).attr("id")),e("input:checkbox").change(function(){e(this).is(":checked")?e(this).parent("label").addClass("selected"):e(this).parent("label").removeClass("selected")})})}),jQuery(document).ready(function(e){window.Animal=function(e){var t="";this.data=e,this.init=function(){var n=this;return e.forEach(function(e){n.getProperties(e)}),t},this.getProperties=function(e){var n=new RenderHTML;t+='<article class="animal animal-id-'+e.id+'">',e.img&&e.img[0]&&(t+='<div class="featured-image" style="background-image: url( '+e.img[0]+' )"></div>'),t+='<header class="animal-info">',t+='<a href="/?page_id='+e.id+'"><h2>'+e.title+"</h2></a>",t+='<h4 class="seller-info">'+e.user+" "+e.date+"</h4>",e.description&&(t+=n.renderContainer("p","animal-excerpt",this.getExcerpt(e))),e.tags&&(t+=n.renderContainer("ul","animal-tags",this.getTags(e))),t+="</header>",t+='<div class="city-price">',t+='<h5 class="city"><span>'+e.city.address+"</span></h5>",t+='<h5 class="price"><span>'+e.price+" :-</span></h5>",t+="</div>",t+="</article>"},this.getExcerpt=function(e){var t=e.description;return t.length>100&&(t=t.substring(0,100)+"..."),t},this.getTags=function(e){var t=new RenderHTML,n="";for(var i in e.tags){var a=e.tags[i],r="yes"===a.value?a.name:a.value;Array.isArray(a.value)?a.value.forEach(function(e){n+=t.renderTag("li",a.name,e,e)}):"no"!==a.value&&(n+=t.renderTag("li",a.name,a.value,r))}return n}}}),jQuery(document).ready(function(e){window.RenderHTML=function(){this.renderTag=function(e,t,n,i){return"<"+e+' class="property" data-field="'+t+'" data-value="'+n+'">'+i+"</"+e+">"},this.renderContainer=function(e,t,n){return"<"+e+' class="'+t+'">'+n+"</"+e+">"},this.render=function(e,t){return"<"+e+">"+t+"</"+e+">"}}}),jQuery(document).ready(function(e){window.SearchFilter=function(t){this.data=t;var n={};this.getAnimals=function(e){return e},this.sendAttrsToObjectOnClick=function(){var t=this;e(".search-filter").on("click","li.property",function(i){if(i.target===this){e(this).toggleClass("chosen");var a=e(this).attr("data-field"),r=e(this).attr("data-value");"no"===r?e(this).attr("data-value","yes"):"yes"===r&&e(this).attr("data-value","no"),r=e(this).attr("data-value"),"cat"!==r&&"dog"!==r||e(".filter").each(function(t,n){"cat"===r?e(this).toggleClass("cat-active"):"dog"===r&&e(this).toggleClass("dog-active")}),e(this).parents(".dropdown").length&&(r=[],e(this).parent().find("li").each(function(){e(this).hasClass("chosen")&&r.push(e(this).attr("data-value"))})),n[a]=r,("no"==r||r.constructor===Array&&0===r.length)&&delete n[a],t.compareFilterAndAnimalProps()}})},this.compareFilterAndAnimalProps=function(){console.log("searchFilter",n);var e=t.filter(function(e){var t=!0;for(var i in n){var a=e.tags.filter(function(e){return e.name==i});a=a[0]||{value:[]};var r=a.value.constructor===Array?a.value:[a.value],o=n[i].constructor===Array?n[i]:[n[i]],s=!1;o.forEach(function(e){s=s||r.indexOf(e)>=0}),t=t&&s}return t});this.showAndHideAnimals(e)},this.showAndHideAnimals=function(t){e(".animal").hide(),t.forEach(function(t){e(".animal-id-"+t.id).show()})}}});